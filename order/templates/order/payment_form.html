{% extends 'base/main.html' %}
{% block script %} <script src="https://js.stripe.com/v3/"></script> {% endblock script%} 
{% block content %}
<section class="shopping-cart">
    <div class="container">
        <div class="cart-heading">
            <h3>Payment</h3>
        </div>

        <form id="payment-form" method="POST" action="{% url 'create-checkout-session' order_id=order_id %}">
            {% csrf_token %}
            <input type="hidden" name="total_cost" value="{{ total_cost }}">
            <input type="hidden" name="order_id" value="{{ order_id }}">
            <div class="form-row">
                <label for="card-element">Credit or debit card</label>
                <div id="card-element"></div>
                <div id="card-errors" role="alert"></div>
            </div>
            <button type="submit" id="submit">Pay Now (${{ total_cost }})</button>
        </form>
        
    </div>  
</section>


{% endblock content %}


<!-- 

    <section class="shopping-cart">
    <div class="container">
        <div class="cart-heading">
            <h3>Payment</h3>
        </div>

        <form id="payment-form" method="POST" action="{% url 'create-checkout-session' order_id=order_id %}">
            {% csrf_token %}
            <input type="hidden" name="total_cost" value="{{ total_cost }}">
            <input type="hidden" name="order_id" value="{{ order_id }}">
            <div class="form-row">
                <label for="card-element">Credit or debit card</label>
                <div id="card-element"></div>
                <div id="card-errors" role="alert"></div>
            </div>
            <div>Order Id: {{ order_id }} </div>
            <div> Total Purchase And Delivery: ${{ total_cost }}</div>
            <button type="submit" id="submit">Pay Now</button>
        </form>
        
    </div>  
</section>
<script src="https://js.stripe.com/v3/"></script>

 -->